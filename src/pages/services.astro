---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FloatingWhatsApp from "../components/FloatingWhatsApp";
import type { Language } from "../lib/i18n";
import { getTranslations } from "../lib/i18n";

const lang = "fr" as const;
const t = getTranslations(lang);

const services = [
    {
        key: "fiv",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10"></circle>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>`,
        gradient: "from-primary to-primary-light",
        details: [
            "Technique éprouvée de fécondation",
            "Taux de réussite élevé",
            "Suivi médical précis",
        ],
    },
    {
        key: "icsi",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8"></circle>
      <circle cx="12" cy="12" r="2" fill="currentColor"></circle>
    </svg>`,
        gradient: "from-secondary to-secondary-light",
        details: [
            "Injection intracytoplasmique",
            "Idéal pour l'infertilité masculine",
            "Précision élevée de fécondation",
        ],
    },
    {
        key: "insemination",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 3v18M5 10l7-7 7 7"></path>
    </svg>`,
        gradient: "from-accent to-accent-light",
        details: [
            "Méthode douce et non invasive",
            "Adaptée à certaines indications",
            "Procédure rapide et sûre",
        ],
    },
    {
        key: "biopsie",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <rect x="5" y="3" width="14" height="18" rx="2"></rect>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>`,
        gradient: "from-primary to-accent",
        details: [
            "Extraction de spermatozoïdes",
            "Solution pour l'azoospermie",
            "Technique avancée",
        ],
    },
    {
        key: "vitrification",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
      <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
    </svg>`,
        gradient: "from-accent to-primary",
        details: [
            "Congélation ovocytes/embryons",
            "Préservation de la fertilité",
            "Technologie de pointe",
        ],
    },
    {
        key: "gynecologie",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path>
    </svg>`,
        gradient: "from-secondary to-primary",
        details: [
            "Suivi gynécologique complet",
            "Examens périodiques",
            "Soins personnalisés",
        ],
    },
    {
        key: "chirurgie",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M11 2a2 2 0 0 0-2 2v6H4a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h5v7a2 2 0 0 0 2 2 2 2 0 0 0 2-2v-7h5a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2z"></path>
      <circle cx="11" cy="4" r="2"></circle>
    </svg>`,
        gradient: "from-primary-light to-primary",
        details: [
            "Interventions spécialisées",
            "Équipe chirurgicale experte",
            "Équipements modernes",
        ],
    },
    {
        key: "analyses",
        icon: `<svg class="w-12 h-12" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <rect x="7" y="7" width="10" height="10" rx="1"></rect>
      <path d="M9 3v2m6-2v2M9 19v2m6-2v2M3 9h2m-2 6h2M19 9h2m-2 6h2"></path>
    </svg>`,
        gradient: "from-accent-light to-accent",
        details: [
            "Bilans de fertilité complets",
            "Résultats rapides et précis",
            "Laboratoire équipé",
        ],
    },
];
---

<BaseLayout title="Services - Clinique Audin" lang={lang}>
    <Header lang={lang} currentPath="/services" />

    <main class="pt-24">
        <!-- Hero Section -->
        <section
            class="py-16 bg-gradient-to-br from-primary via-primary-light to-accent text-white"
        >
            <div class="container text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">
                    {t.services.section_title}
                </h1>
                <p class="text-xl text-white/80 max-w-2xl mx-auto">
                    {t.services.section_subtitle}
                </p>
            </div>
        </section>

        <!-- Services Grid -->
        <section class="section">
            <div class="container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    {
                        services.map((service) => {
                            const serviceData = t.services[
                                service.key as keyof typeof t.services
                            ] as { title: string; description: string };
                            return (
                                <div class="premium-card group">
                                    <div class="flex items-start gap-6">
                                        <div
                                            class={`w-20 h-20 rounded-2xl bg-gradient-to-br ${service.gradient} flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform flex-shrink-0`}
                                        >
                                            <Fragment set:html={service.icon} />
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-xl font-bold text-dark mb-2">
                                                {serviceData.title}
                                            </h3>
                                            <p class="text-gray-600 mb-4">
                                                {serviceData.description}
                                            </p>
                                            <ul class="space-y-2">
                                                {service.details.map(
                                                    (detail) => (
                                                        <li class="flex items-center gap-2 text-sm text-gray-500">
                                                            <svg
                                                                class="w-4 h-4 text-accent flex-shrink-0"
                                                                fill="none"
                                                                stroke="currentColor"
                                                                stroke-width="2"
                                                                viewBox="0 0 24 24"
                                                            >
                                                                <path d="M5 13l4 4L19 7" />
                                                            </svg>
                                                            {detail}
                                                        </li>
                                                    ),
                                                )}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            );
                        })
                    }
                </div>

                <!-- CTA -->
                <div class="text-center mt-16">
                    <div class="inline-block p-8 bg-light rounded-3xl">
                        <h3 class="text-2xl font-bold text-dark mb-4">
                            Besoin d'une consultation ?
                        </h3>
                        <p class="text-gray-600 mb-6 max-w-md mx-auto">
                            Notre équipe médicale est prête à vous aider. Prenez
                            rendez-vous dès maintenant.
                        </p>
                        <a href="/fr/contact" class="btn btn-primary">
                            Prendre Rendez-vous
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <Footer lang={lang} />
    <FloatingWhatsApp client:load lang={lang} phoneNumber="213560055803" />
</BaseLayout>
