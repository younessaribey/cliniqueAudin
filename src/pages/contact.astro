---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ContactForm from "../components/ContactForm";
import FloatingWhatsApp from "../components/FloatingWhatsApp";
import type { Language } from "../lib/i18n";
import { getTranslations } from "../lib/i18n";

const lang = (Astro.url.searchParams.get("lang") as Language) || "fr";
const t = getTranslations(lang);
---

<BaseLayout
    title={lang === "ar"
        ? "اتصل بنا - عيادة أودان"
        : "Contact - Clinique Audin"}
    lang={lang}
>
    <Header lang={lang} currentPath="/contact" />

    <main class="pt-24">
        <!-- Hero Section -->
        <section
            class="py-16 bg-gradient-to-br from-primary via-primary-light to-accent text-white"
        >
            <div class="container text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">
                    {t.contact.section_title}
                </h1>
                <p class="text-xl text-white/80 max-w-2xl mx-auto">
                    {t.contact.section_subtitle}
                </p>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="section">
            <div class="container">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Contact Form -->
                    <div>
                        <h2 class="text-2xl font-bold mb-6 text-dark">
                            {
                                lang === "ar"
                                    ? "أرسل لنا رسالة"
                                    : "Envoyez-nous un message"
                            }
                        </h2>
                        <ContactForm client:load lang={lang} />
                    </div>

                    <!-- Contact Info -->
                    <div>
                        <h2 class="text-2xl font-bold mb-6 text-dark">
                            {
                                lang === "ar"
                                    ? "معلومات الاتصال"
                                    : "Informations de contact"
                            }
                        </h2>

                        <div class="space-y-6">
                            <!-- Address -->
                            <div
                                class="flex items-start gap-4 p-5 bg-light rounded-2xl"
                            >
                                <div
                                    class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0"
                                >
                                    <svg
                                        class="w-6 h-6 text-primary"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
                                        ></path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-dark mb-1">
                                        {lang === "ar" ? "العنوان" : "Adresse"}
                                    </h3>
                                    <p class="text-gray-600">
                                        {t.contact.info.address}
                                    </p>
                                </div>
                            </div>

                            <!-- Phone -->
                            <div
                                class="flex items-start gap-4 p-5 bg-light rounded-2xl"
                            >
                                <div
                                    class="w-12 h-12 bg-secondary/10 rounded-xl flex items-center justify-center flex-shrink-0"
                                >
                                    <svg
                                        class="w-6 h-6 text-secondary-dark"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
                                        ></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-dark mb-1">
                                        {lang === "ar" ? "الهاتف" : "Téléphone"}
                                    </h3>
                                    <div class="space-y-1">
                                        <a
                                            href="tel:+213560055803"
                                            class="block text-gray-600 hover:text-primary"
                                            >{t.contact.info.phone1}</a
                                        >
                                        <a
                                            href="tel:+213670358323"
                                            class="block text-gray-600 hover:text-primary"
                                            >{t.contact.info.phone2}</a
                                        >
                                        <a
                                            href="tel:+213770246733"
                                            class="block text-gray-600 hover:text-primary"
                                            >{t.contact.info.phone3}</a
                                        >
                                    </div>
                                </div>
                            </div>

                            <!-- Email -->
                            <div
                                class="flex items-start gap-4 p-5 bg-light rounded-2xl"
                            >
                                <div
                                    class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center flex-shrink-0"
                                >
                                    <svg
                                        class="w-6 h-6 text-accent"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        viewBox="0 0 24 24"
                                    >
                                        <rect
                                            width="20"
                                            height="16"
                                            x="2"
                                            y="4"
                                            rx="2"></rect>
                                        <path
                                            d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"
                                        ></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-dark mb-1">
                                        {
                                            lang === "ar"
                                                ? "البريد الإلكتروني"
                                                : "Email"
                                        }
                                    </h3>
                                    <a
                                        href="mailto:contact@cliniqueaudin.com"
                                        class="text-gray-600 hover:text-primary"
                                        >{t.contact.info.email}</a
                                    >
                                </div>
                            </div>

                            <!-- Hours -->
                            <div
                                class="flex items-start gap-4 p-5 bg-light rounded-2xl"
                            >
                                <div
                                    class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0"
                                >
                                    <svg
                                        class="w-6 h-6 text-primary"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        viewBox="0 0 24 24"
                                    >
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"
                                        ></polyline>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-dark mb-1">
                                        {t.contact.info.hours_title}
                                    </h3>
                                    <p class="text-gray-600">
                                        {t.contact.info.hours}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Map -->
                        <div class="mt-8 rounded-2xl overflow-hidden shadow-lg">
                            <iframe
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3197.6661896744695!2d3.0571!3d36.7722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x128fb26f8d5f1e3f%3A0x8c9c9e9b8b8c8c8c!2sPlace%20Audin%2C%20Alger!5e0!3m2!1sfr!2sdz!4v1704067200000!5m2!1sfr!2sdz"
                                width="100%"
                                height="300"
                                style="border:0;"
                                allowfullscreen
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Clinique Audin Location"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <Footer lang={lang} />
    <FloatingWhatsApp client:load lang={lang} phoneNumber="213560055803" />
</BaseLayout>
