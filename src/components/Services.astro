---
import type { Language } from "../lib/i18n";
import { getTranslations } from "../lib/i18n";

interface Props {
    lang?: Language;
}

const { lang = "fr" } = Astro.props;
const t = getTranslations(lang);

const services = [
    {
        key: "fiv",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10"></circle>
      <circle cx="12" cy="12" r="3"></circle>
      <path d="M12 5v2M12 17v2M5 12h2M17 12h2"></path>
    </svg>`,
        gradient: "from-primary to-primary-light",
    },
    {
        key: "icsi",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8"></circle>
      <path d="M12 2v4M12 18v4"></path>
      <circle cx="12" cy="12" r="2" fill="currentColor"></circle>
      <path d="M20 12h-4M8 12H4"></path>
    </svg>`,
        gradient: "from-secondary to-secondary-light",
    },
    {
        key: "insemination",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 3v18M5 10l7-7 7 7M5 14l7 7 7-7"></path>
    </svg>`,
        gradient: "from-accent to-accent-light",
    },
    {
        key: "biopsie",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M9 3H5a2 2 0 00-2 2v4m6-6h10a2 2 0 012 2v4M9 3v18m0 0h10a2 2 0 002-2v-4M9 21H5a2 2 0 01-2-2v-4"></path>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>`,
        gradient: "from-primary to-accent",
    },
    {
        key: "vitrification",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
    </svg>`,
        gradient: "from-accent to-primary",
    },
    {
        key: "gynecologie",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path>
    </svg>`,
        gradient: "from-secondary to-primary",
    },
    {
        key: "chirurgie",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"></path>
    </svg>`,
        gradient: "from-primary-light to-primary",
    },
    {
        key: "analyses",
        icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
      <path d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
    </svg>`,
        gradient: "from-accent-light to-accent",
    },
];
---

<section class="section section-light" id="services">
    <div class="container">
        <!-- Section Header -->
        <div class="text-center mb-16">
            <span
                class="text-sm font-semibold text-secondary tracking-widest uppercase mb-4 block"
            >
                {lang === "ar" ? "خدماتنا" : "Nos Services"}
            </span>
            <h2 class="text-4xl md:text-5xl font-bold mb-4">
                <span class="gradient-text">{t.services.section_title}</span>
            </h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                {t.services.section_subtitle}
            </p>
        </div>

        <!-- Services Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            {
                services.map((service, index) => {
                    const serviceData = t.services[
                        service.key as keyof typeof t.services
                    ] as { title: string; description: string };
                    return (
                        <div
                            class="premium-card group text-center"
                            style={`animation-delay: ${index * 0.1}s`}
                        >
                            <div
                                class={`w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br ${service.gradient} flex items-center justify-center mb-5 text-white shadow-lg group-hover:scale-110 transition-transform duration-300`}
                            >
                                <Fragment set:html={service.icon} />
                            </div>
                            <h3 class="text-lg font-bold text-dark mb-2">
                                {serviceData.title}
                            </h3>
                            <p class="text-sm text-gray-600 leading-relaxed">
                                {serviceData.description}
                            </p>
                        </div>
                    );
                })
            }
        </div>

        <!-- CTA -->
        <div class="text-center mt-12">
            <a
                href={`/services${lang !== "fr" ? `?lang=${lang}` : ""}`}
                class="btn btn-primary"
            >
                {lang === "ar" ? "اكتشف المزيد" : "En savoir plus"}
                <svg
                    class="w-5 h-5"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M5 12h14M12 5l7 7-7 7"></path>
                </svg>
            </a>
        </div>
    </div>
</section>
